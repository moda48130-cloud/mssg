<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Mock Dashboard - Moda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; text-align: center; padding: 40px; }
    .box { margin: 20px auto; padding: 20px; background: #222; border-radius: 8px; width: 300px; box-shadow: 0 0 10px #000; }
    .label { font-size: 1.2em; margin-bottom: 10px; }
    .value { font-size: 2em; font-weight: bold; color: #0f0; }
    .timestamp { font-size: 0.9em; color: #ccc; margin-top: 10px; }
    .marquee {
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      animation: slide 10s linear infinite;
      font-size: 1.8em;
      color: #ffd700;
    }
    @keyframes slide {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <script src="script.js"></script>
  <div class="box">
    <div class="label">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
    <div id="online-count" class="value">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
    <div id="online-time" class="timestamp"></div>
<!-- üî¥ Ticker Slide -->
<div class="section ticker" id="ticker">
  <span id="ticker-slide">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</span>
</div>

<style>
  .ticker {
    white-space: nowrap;
    overflow: hidden;
    background: #222;
    padding: 0.5rem;
    border-top: 1px solid #444;
    border-bottom: 1px solid #444;
  }
  .ticker span {
    display: inline-block;
    padding-right: 2rem;
    animation: scroll 25s linear infinite;
    color: #0f0;
  }
  @keyframes scroll {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
</style>

<script>
  const onlineURL = "https://moda48130-cloud.github.io/mssg/mock_online.json";
  const jackpotURL = "https://moda48130-cloud.github.io/mssg/mock_jackpot.json";

  async function updateTicker() {
    try {
      const [onlineRes, jackpotRes] = await Promise.all([
        fetch(onlineURL).then(r => r.json()),
        fetch(jackpotURL).then(r => r.json())
      ]);

      const onlineList = onlineRes.list || ["Guest01", "Guest02"];
      const jackpotList = jackpotRes.list || ["‡∏ø1,000", "‡∏ø2,500"];

      const tickerItems = [
        ...onlineList.map(name => `üéÆ ${name}`),
        ...jackpotList.map(prize => `üí∞ ${prize}`)
      ];

      document.getElementById("ticker-slide").textContent = tickerItems.join(" ‚Ä¢ ");
    } catch {
      document.getElementById("ticker-slide").textContent = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ";
    }
  }

  updateTicker();
  setInterval(updateTicker, 30000); // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏ó‡∏∏‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
</script>
  </div>

  <div class="box">
    <div class="label">‡πÅ‡∏à‡πá‡∏Å‡∏û‡∏≠‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
    <div id="jackpot-slide" class="marquee">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
  </div>

  <script>
    function formatTime() {
      const now = new Date();
      return now.toLocaleString('th-TH', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        day: '2-digit',
        month: 'short',
        year: 'numeric'
      });
    }

    function fetchData() {
      Promise.all([
        fetch('https://moda48130-cloud.github.io/mssg/mock_online.json').then(res => res.json()),
        fetch('https://moda48130-cloud.github.io/mssg/mock_jackpot.json').then(res => res.json())
      ])
      .then(([onlineData, jackpotData]) => {
        const onlineCountElement = document.getElementById('online-count');
        const onlineTimeElement = document.getElementById('online-time');
        const jackpotSlideElement = document.getElementById('jackpot-slide');

        if (onlineCountElement && onlineData.online_count) {
          onlineCountElement.textContent = onlineData.online_count;
          onlineTimeElement.textContent = '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ' + formatTime();
        }

        if (jackpotSlideElement && jackpotData.jackpot) {
          jackpotSlideElement.textContent = `üé∞ ‡πÅ‡∏à‡πá‡∏Å‡∏û‡∏≠‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${jackpotData.jackpot.toLocaleString('en-US')} ‡∏ö‡∏≤‡∏ó üí∏`;
        }
      })
      .catch(error => {
        console.error('Error fetching data:', error);
        document.getElementById('online-count').textContent = 'N/A';
        document.getElementById('jackpot-slide').textContent = 'N/A';
      });
    }

    fetchData();
    setInterval(fetchData, 10000);
  </script>
</body>
</html>    year: 'numeric'
      });
    }

    function fetchData() {
      Promise.all([
        fetch('https://moda48130-cloud.github.io/mssg/mock_online.json').then(res => res.json()),
        fetch('https://moda48130-cloud.github.io/mssg/mock_jackpot.json').then(res => res.json())
      ])
      .then(([onlineData, jackpotData]) => {
        const onlineCountElement = document.getElementById('online-count');
        const jackpotAmountElement = document.getElementById('jackpot-amount');
        const onlineTimeElement = document.getElementById('online-time');
        const jackpotTimeElement = document.getElementById('jackpot-time');

        if (onlineCountElement && onlineData.online) {
          onlineCountElement.textContent = onlineData.online;
          onlineTimeElement.textContent = '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ' + formatTime();
        }

        if (jackpotAmountElement && jackpotData.jackpot) {
          jackpotAmountElement.textContent = jackpotData.jackpot.toLocaleString('en-US');
          jackpotTimeElement.textContent = '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ' + formatTime();
        }
      })
      .catch(error => {
        console.error('Error fetching data:', error);
        document.getElementById('online-count').textContent = 'N/A';
        document.getElementById('jackpot-amount').textContent = 'N/A';
      });
    }

    fetchData();
    setInterval(fetchData, 10000);
  </script>
</body>
      </html>
