<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
    <title>ETBET Mock Page</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      </head>
      <body style="font-family:sans-serif;background:#f9f9f9;padding:20px;">

      <div style="text-align:center;padding:20px;border:1px solid #ccc;border-radius:8px;background:#fff;">
        <h3 style="margin-bottom:10px;">üë• ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</h3>
          <div id="onlineCount" style="font-size:32px;font-weight:bold;color:#2196f3;">‚Äì</div>
            <p id="lastUpdated" style="font-size:12px;color:#888;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
            </div>

            <div id="ticker" style="margin-top:10px;font-size:14px;color:#444;padding:10px;border-top:1px dashed #ccc;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...</div>

            <script>
            const DATA_URL = "./mock_online.json"; // ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô repo ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
            let tickerInterval = null;

            function formatThaiDateTime(date) {
              const dateThai = date.toLocaleDateString('th-TH', {
                  timeZone: 'Asia/Bangkok',
                      day: 'numeric',
                          month: 'short',
                              year: 'numeric'
                                });
                                  const timeThai = date.toLocaleTimeString('th-TH', {
                                      timeZone: 'Asia/Bangkok',
                                          hour: '2-digit',
                                              minute: '2-digit',
                                                  second: '2-digit',
                                                      hour12: false
                                                        });
                                                          return `${dateThai} ${timeThai}`;
                                                          }

                                                          function formatAction(action) {
                                                            const time = new Date(action.timestamp).toLocaleTimeString('th-TH', {
                                                                timeZone: 'Asia/Bangkok',
                                                                    hour: '2-digit',
                                                                        minute: '2-digit',
                                                                            second: '2-digit',
                                                                                hour12: false
                                                                                  });

                                                                                    if (action.type === "‡∏ù‡∏≤‡∏Å" || action.type === "‡∏ñ‡∏≠‡∏ô") {
                                                                                        return `${time} - ${action.username} ${action.type} ${action.amount.toLocaleString()} ‡∏ö‡∏≤‡∏ó`;
                                                                                          } else if (action.type === "‡∏™‡∏°‡∏±‡∏Ñ‡∏£") {
                                                                                              return `${time} - ${action.username} ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà`;
                                                                                                } else {
                                                                                                    return `${time} - ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó`;
                                                                                                      }
                                                                                                      }

                                                                                                      async function updateOnlineStats() {
                                                                                                        try {
                                                                                                            const res = await fetch(DATA_URL);
                                                                                                                const data = await res.json();

                                                                                                                    const count = data.online_count || 0;
                                                                                                                        document.getElementById("onlineCount").textContent = count.toLocaleString('th-TH') + " ‡∏Ñ‡∏ô";

                                                                                                                            const updated = new Date(data.last_updated);
                                                                                                                                document.getElementById("lastUpdated").textContent = `‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠ ${formatThaiDateTime(updated)}`;

                                                                                                                                    const actions = data.actions || [];
                                                                                                                                        let index = 0;
                                                                                                                                            const ticker = document.getElementById("ticker");

                                                                                                                                                function showNext() {
                                                                                                                                                      ticker.textContent = formatAction(actions[index]);
                                                                                                                                                            index = (index + 1) % actions.length;
                                                                                                                                                                }

                                                                                                                                                                    if (tickerInterval) clearInterval(tickerInterval);
                                                                                                                                                                        if (actions.length > 0) {
                                                                                                                                                                              showNext();
                                                                                                                                                                                    tickerInterval = setInterval(showNext, 5000);
                                                                                                                                                                                        } else {
                                                                                                                                                                                              ticker.textContent = "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°";
                                                                                                                                                                                                  }

                                                                                                                                                                                                    } catch (err) {
                                                                                                                                                                                                        document.getElementById("onlineCount").textContent = "‚Äì";
                                                                                                                                                                                                            document.getElementById("lastUpdated").textContent = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ";
                                                                                                                                                                                                                document.getElementById("ticker").textContent = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ";
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  }

                                                                                                                                                                                                                  document.addEventListener("DOMContentLoaded", () => {
                                                                                                                                                                                                                    updateOnlineStats();
                                                                                                                                                                                                                      setInterval(updateOnlineStats, 60000);
                                                                                                                                                                                                                      });
                                                                                                                                                                                                                      </script>

                                                                                                                                                                                                                      </body>
                                                                                                                                                                                                                      </html>